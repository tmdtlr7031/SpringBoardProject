# SpringBoardProject
Spring에 기능넣기

---

## 환경
 - 전자정부 3.9
 - JAVA 8
 - tomcat 8.5
 - maven 4.3.22
 - mariaDB 10.3.22

#### init
 - 사이트매쉬 적용
 - 마지막 접속시간 , 로그인 이후 타이머 설정 (30분 동안 행동 안하면 로그아웃처리), 로그인 연장 타이머

#### 2020-04-27
	- poi를 이용한 엑셀 다운로드 구현 (xlsx유틸, XSSFWorkbook이용 -> row 수 많아지면 속도이슈때문에 대용량대비로 바꿔야함)
	
#### 2020-04-29
	- xls 확장자의 경우, 엑셀 파일 업로드 & 파일 읽어서 DB Insert처리 (중복제거는 하지않음.)
	- 업로드 후 업로드한 파일을 따로 보관을 하지 않기 위해 파일 삭제 로직 작성
	- insertDashBoardExcelUpload에 개발 관련한 주석 추가
	- 페이지 유닛 change 이벤트
	- 첨부파일 테이블, 게시판 테이블 생성/수정
	- VO 추가/수정
	- 업로드 양식 엑셀 다운로드

#### 2020-05-08
	- profile별 properties, log4j2 추가(수정필)
	- 첨부파일 게시판 상세페이지,등록페이지 및 첨부파일 등록처리 추가 (multiple 이용)
	- 상세페이지에서 파일 다운로드 추가

#### 2020-05-11
	- 첨부파일 게시판 상세페이지 수정처리 (신규 파일 추가,삭제)
	- FileList객체는 "읽기 전용"이라 특정 항목만 제거할 수 없음. 파일 추가한 상태에서 특정 파일만 제거하고 싶으면 아예 첨부터 다시 선택하거나 multiple이 라닌 각각의 input file로 생성해야함.
	- multifile 플러그인도 있으니 참고
	
#### 2020-05-13
	- 댓글에 대댓글 기능 구현(2depth까지만..) => 무한 댓글은 더 고민해봐야할것같아서 일단 보류
	- 댓글 등록, 대댓글 등록 기능
	- 댓글 삭제기능 추가. 댓글에 대댓글 중 자신이 작성한 대댓글만 삭제가능하고 자신이 작성한 댓글에 대댓글이 달려서 댓글을 지우는경우 대댓글도 다같이 지워지게 구현
	- 기존에 구현했던 엑셀업로드(xls)의 경우 jxl를 이용했다. 
	   - 하지만 엑셀안에 데이터가 늘어나는 경우 성능 이슈가 있어 Poi의 HSSFWorkbook을 이용하여 수정
	   - 기존에 있는 소스는 주석처리.

#### 2020-05-19
	- XSSF 엑셀 다운로드 -> SXSSF 엑셀다운로드로 수정
	- pom.xml수정 (commpress 버전 수정) : SXSSF 이용을 위해
	
#### 2020-05-21
	- SXSSF 엑셀다운로드 대량건인 경우 속도 이슈..처리하기
	
#### 2020-05-25
	- SXSSF 관련 주석 추가
	- Binding Util 추가 및 수정

#### 2021-05-18
	- SXSSF 수정 및 테스트 (10만건 기준 3초)
	- contentStyle 설정 시 속도 느려짐
	
#### 2021-06-04
	- Ajax를 통한 리스트 조회 처리
	- 페이징 처리를 통해 페이지 이동 시 Ajax를 통한 리스트 조회
	- 별도의 템플릿 JSP를 통해 데이터 맵핑 후 Ajax로 맵핑된 HTML문자열을 가지고 그대로 .html()을 통해 화면 표시
 
### TODO List
- 아래 내용들에 맞는 DB 테이블 추가
- 마지막 로그인 시간 DB 에서 조회한 값으로
- 로그인한 사용자인지 확인하는 인터셉터 (또는 로직)
- 웝로그 인터셉터 처리
- 특정 ip만 접근가능하게 처리해보자 (인터셉터 이용)
- 대용량 대비 읽기, 쓰기 (xlsx) : poi 엑셀 업로드/다운로드 구현 [XSS말고 SXSSF(참고로 얘는 "쓰기밖에" 안됨. 읽기 불가. 읽으려면 SAX를 이용해서 ---> 연동하면 읽어서 업로드, 엑셀다운로드 가능하게 됨)]
- ~~xls 말고 xlsx도 업로드 되게 (poi): HSSF 대신 XSSF로 바꿔주면되기 때문에 생략~~
- ~~파일 다운로드, 파일 업로드~~
- 시각화 사용하기 (하이차트 or canvasJS)
- ~~다중 파일 업로드 (multiple)~~
- 파일 업로드 개수, 용량 체크
- 중복로그인 방지(https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:com:v3:cmm:multilogin)
- 윈도우 팝업 이용
- ~~댓글, 대댓글~~
